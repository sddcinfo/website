name = "sddc-info-website"
main = "dist/_worker.js/index.js"
compatibility_date = "2024-11-14"
compatibility_flags = ["nodejs_compat"]

[build]
command = "npm run build"

# Static assets configuration for pure Workers
# Assets directory is dist so paths are preserved (_astro/*)
[assets]
directory = "dist"
binding = "ASSETS"

# Custom domain routing (configured in Cloudflare Dashboard)
routes = [
  { pattern = "sddc.info/*", zone_name = "sddc.info" },
  { pattern = "www.sddc.info/*", zone_name = "sddc.info" }
]

# Environment variables
[vars]
CONTACT_EMAIL = "bradlay@gmail.com"

# Secrets to set via CLI:
# wrangler secret put RESEND_API_KEY