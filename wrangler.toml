name = "sddc-info-website"
main = "dist/_worker.js/index.js"
compatibility_date = "2024-11-14"
compatibility_flags = ["nodejs_compat"]

# Custom domain routing
routes = [
  { pattern = "sddc.info/*", zone_name = "sddc.info" },
  { pattern = "www.sddc.info/*", zone_name = "sddc.info" }
]

[build]
command = "npm run build"

# Static assets configuration for pure Workers
# Assets directory is dist so paths are preserved (_astro/*)
[assets]
directory = "dist"
binding = "ASSETS"

# Environment variables
[vars]
CONTACT_EMAIL = "bradlay@gmail.com"
TURNSTILE_SECRET_KEY = "0x4AAAAAACBtSS6W1epPgPYloHHq2dFbQAg"

# Email service binding for contact form
[[send_email]]
name = "EMAIL"